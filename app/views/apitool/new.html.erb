<div id="cl-wrapper">

  <div class="cl-sidebar">
    <div class="cl-toggle"><i class="fa fa-bars"></i></div>
    <div class="cl-navblock">
      <div class="menu-space">
        <div class="content">
          <%= link_to ({:controller => "home", :action => "index"}) do %>
            <div class="sidebar-logo" style="background-color:#4A4A4A">
              <div class="logo">
                  <a href="index.html.erb"></a>
                </div>
            </div>
          <% end %>
          <div class="side-user">
            <div class="avatar square-img"><img src="/images/dashboard/useravatar.png" alt="Avatar" style="border-radius:0" /></div>

            <div class="info info-align">
              <p>
                <b><%= @user.company %></b><br/><%= @user.name %>
              </p>
            </div>
          </div>
          <ul class="cl-vnavigation cl-vnavigation-custom">
              <li><%= link_to ({:controller => "apitool", :action => "dashboard"}) do %><span>Dashboard</span><% end %></li>
              <li><%= link_to ({:controller => "apitool", :action => "new"}) do %><span>Create new</span><% end %></li>
          </ul>
        </div>
      </div>
      <div class="text-right collapse-button" style="padding:7px 9px;">
        <input type="text" class="form-control search" placeholder="Search..." />
        <button id="sidebar-collapse" class="btn btn-default" style=""><i style="color:#fff;" class="fa fa-angle-left"></i></button>
      </div>
    </div>
  </div>

	<div class="container-fluid" id="pcont">
   <!-- TOP NAVBAR -->  

  	<div class="cl-mcont">		
      <div class="page-head">
  			<ol class="breadcrumb">
  			  <li><%= link_to "Home", {:controller => "home", :action => "index"} %></li>
  			  <li><%= link_to "Logout", {:controller => "dashboard", :action => "logout"} %></li>
  			</ol>
  		</div>	
    
        

       
      <div class="row">
        <!--Hourly Requests per Class-->   
        <div class="col-md-6">
          <div class="block-flat">
            <div class="header">
              <h3>Design your API for <b> www.listnerd.com </b></h3>
            </div>
            <div class="content"> 
              <div id="api-content">
                <p> Page: 
                  <select onchange="changePage(this)" class="input-api">
                    <option selected value=0>Search</option>
                    <option value=1>Popular/top lists</option>
                    <option value=2>One list</option>   
                  </select>
                </p>
                <br/>
                <p id="opt1"> Call type: 
                  <select onchange="changeType1(this)" class="input-api">
                    <option selected value=0>Body</option>
                    <option value=1>Lists</option>
                    <option value=2>Active members</option>
                    <option value=3>Popular members</option>            
                  </select>
                </p>
                <p id="opt2" hidden> Call type:  
                  <select onchange="changeType2(this)" class="input-api">
                    <option selected value=0>Body</option>
                    <option value=1>Description</option>
                    <option value=2>Statistics</option>
                    <option value=2>Items</option>            
                  </select>
                </p>
                <br/>
                <%= submit_tag "create", :class => "btn btn-primary api-btn" %>
              </div>
            </div>
          </div>
        </div>
     
        <div class="col-md-6">
          <div class="block-flat">
            <div class="header">
            <h3>Website preview </h3>
          </div>
          <div class="content">
              <div id="website-preview">
                <img src="/images/apitool/listnerd_search.png" style="width:100%"/>
                <div id="body-cover"></div>
                <div id="lists-cover" hidden></div>
                <div id="active-cover" hidden></div>
                <div id="popular-cover" hidden></div>
                <div id="statistics-cover" hidden></div>
                <div id="description-cover" hidden></div>
                <div id="items-cover" hidden></div>
              </div>
            </div>
          </div>        
        </div>
      </div>    
  
    </div>
  </div>
</div> 

<script>

  function changePage(elementNode){
    var imgDiv = document.getElementById('website-preview').getElementsByTagName("img")[0];
    switch(elementNode.value)
    {
    case "0":
      imgDiv.src = '/images/apitool/listnerd_search.png';
      showOptions('opt1');
      break;
    case "1":
      imgDiv.src = '/images/apitool/listnerd_search.png';
      showOptions('opt1');
      break;
    case "2":
      imgDiv.src = '/images/apitool/listnerd_list.png';
      showOptions('opt2');
      break;
    }
    showCover('body-cover');
  }

  function changeType1(elementNode) {
    switch(elementNode.value)
    {
    case "0":
      showCover('body-cover');
      break;
    case "1":
      showCover('lists-cover');
      break;
    case "2":
      showCover('active-cover');
      break;
    case "3":
      showCover('popular-cover');
      break;
    }
  }

  function changeType2(elementNode) {
    switch(elementNode.value)
    {
    case "0":
      showCover('body-cover');
      break;
    case "1":
      showCover('description-cover');
      break;
    case "2":
      showCover('statistics-cover');
      break;
    case "3":
      showCover('items-cover');
      break;
    }
  }

  function showOptions(optionID) {
    document.getElementById('opt1').hidden = true;
    document.getElementById('opt2').hidden = true;

    document.getElementById(optionID).hidden = false;
  }

  function showCover(coverID) {
    document.getElementById('body-cover').hidden = true;
    document.getElementById('lists-cover').hidden = true;
    document.getElementById('active-cover').hidden = true;
    document.getElementById('popular-cover').hidden = true;
    document.getElementById('statistics-cover').hidden = true;
    document.getElementById('description-cover').hidden = true;
    document.getElementById('items-cover').hidden = true;

    document.getElementById(coverID).hidden = false;
  }

</script>