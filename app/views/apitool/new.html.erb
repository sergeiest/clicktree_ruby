<div id="cl-wrapper">

  <div class="cl-sidebar">
    <div class="cl-toggle"><i class="fa fa-bars"></i></div>
    <div class="cl-navblock">
      <div class="menu-space">
        <div class="content">
          <%= link_to ({:controller => "home", :action => "index"}) do %>
            <div class="sidebar-logo" style="background-color:#4A4A4A">
              <div class="logo">
                  <a href="index.html.erb"></a>
                </div>
            </div>
          <% end %>
          <div class="side-user">
            <div class="avatar square-img"><img src="/images/dashboard/useravatar.png" alt="Avatar" style="border-radius:0" /></div>

            <div class="info info-align">
              <p>
                <b><%= @user.company %></b><br/><%= @user.name %>
              </p>
            </div>
          </div>
          <ul class="cl-vnavigation cl-vnavigation-custom">
              <li><%= link_to ({:controller => "apitool", :action => "dashboard"}) do %><span>APIs</span><% end %></li>
              <li><%= link_to ({:controller => "apitool", :action => "new"}) do %><span>Create new</span><% end %></li>
          </ul>
        </div>
      </div>
      <div class="text-right collapse-button" style="padding:7px 9px;">
        <input type="text" class="form-control search" placeholder="Search..." />
        <button id="sidebar-collapse" class="btn btn-default" style=""><i style="color:#fff;" class="fa fa-angle-left"></i></button>
      </div>
    </div>
  </div>

	<div class="container-fluid" id="pcont">
   <!-- TOP NAVBAR -->  

  	<div class="cl-mcont">		
      <div class="page-head">
  			<ol class="breadcrumb">
  			  <li><%= link_to "Home", {:controller => "home", :action => "index"} %></li>
  			  <li><%= link_to "Logout", {:controller => "dashboard", :action => "logout"} %></li>
  			</ol>
  		</div>
      <h2>Design your API for www.listnerd.com</h2>	
    
        

       
      <div class="row">
        <!--Hourly Requests per Class-->   
        <div class="col-md-6">
          <div class="block-flat">
            <div class="header">
              <h3>Attribute selection</h3>
            </div>
            <div class="content"> 
              <div id="api-content">
                <p> Page: 
                  <select onchange="changePage(this)" class="input-api">
                    <option selected value=0>Search</option>
                    <option value=1>Popular/top lists</option>
                    <option value=2>One list</option>   
                  </select>
                </p>
                <br/>                
                <br/>
                <p id="opt1"> Call type: 
                  <select onchange="changeType(this.value)" class="input-api">
                    <option selected value="body-lists">Body</option>
                    <option value="top-lists">Lists</option>
                    <option value="active-users">Active members</option>
                    <option value="popular-users">Popular members</option>            
                  </select>
                </p>
                <p id="opt2" hidden> Call type:  
                  <select onchange="changeType(this.value)" class="input-api">
                    <option selected value="body-list">Body</option>
                    <option value="description-list">Description</option>
                    <option value="statistics-list">Statistics</option>
                    <option value="full-list">Items</option>            
                  </select>
                </p>
                <br/>
                <br/>
                <table id="checkbox-table" class="check-select">
                  <tr>
                    <th>Attributes</th>
                    <th style="width:20%">Add</th>
                  </tr>
                  <tr>
                    <td style="font-weight:bold"> Select all </td>
                    <td style="text-align:center"><input type="checkbox" name="checkbox1" value=1></td>
                  </tr>
                  <tr>
                    <td id="atrb1">Top lists</td>
                    <td style="text-align:center"><input type="checkbox" name="checkbox1" value=1></td>
                  </tr>
                  <tr>
                    <td id="atrb2">Active memebrs</td>
                    <td style="text-align:center"><input type="checkbox" name="checkbox1" value=1></td>
                  </tr>
                  <tr>
                    <td id="atrb3">Popular memebrs</td>
                    <td style="text-align:center"><input type="checkbox" name="checkbox1" value=1></td>
                  </tr>
                  <tr>
                    <td id="atrb4">How it works</td>
                    <td style="text-align:center"><input type="checkbox" name="checkbox1" value="popular-users"></td>
                  </tr>
                </table>
                <br/>
                <%= submit_tag "create", :class => "btn btn-primary api-btn" %>
                <div style="clear:both"></div>
              </div>
            </div>
          </div>
        </div>
     
        <div class="col-md-6">
          <div class="block-flat">
            <div class="header">
            <h3>Website preview </h3>
          </div>
          <div class="content">
              <div id="website-preview">
                <img src="/images/apitool/listnerd_search.png" style="width:100%"/>

                <div id="search-view" class= "split-preview">
                  <table>
                    <tr>
                      <td onclick="changeType('body-lists')" style="height: 22%;width:5%"></td>
                      <td onclick="changeType('body-lists')" style="height: 22%;width:45%"></td>
                      <td onclick="changeType('body-lists')" style="height: 22%;width:45%"></td>
                      <td onclick="changeType('body-lists')" style="height: 22%;width:5%"></td>
                    </tr>
                    <tr style="background-color:transparent;">
                      <td onclick="changeType('body-lists')" style="height: 53%;width:5%"></td>
                      <td onmousemove="highlightOptions(this.className, 'red', 'blue')" onmouseout="clearOptions('blue')" onclick="changeType(this.className)" class="top-lists" style="height: 53%;width:45%" ></td>
                      <td onmousemove="highlightOptions(this.className, 'red', 'blue')" onmouseout="clearOptions('blue')" onclick="changeType(this.className)" class="top-lists" style="height: 53%;width:45%"></td>
                      <td onclick="changeType('body-lists')" style="height: 53%;width:5%"></td>
                    </tr>
                    <tr>
                      <td onclick="changeType('body-lists')" style="height: 25%;width:5%"></td>
                      <td onmousemove="highlightOptions(this.className, 'red', 'blue')" onmouseout="clearOptions('blue')" onclick="changeType(this.className)" class="active-users"  style="height: 25%;width:45%"></td>
                      <td onmousemove="highlightOptions(this.className, 'red', 'blue')" onmouseout="clearOptions('blue')" onclick="changeType(this.className)" class="popular-users"  style="height: 25%;width:45%"></td>
                      <td onclick="changeType('body-lists')" style="height: 25%;width:5%"></td>
                    </tr>
                  </table>
                </div>

                <div id="list-view" class= "split-preview" hidden>
                  <table>
                    <tr>
                      <td onclick="changeType('body-list')" style="height: 5%;width:5%"></td>
                      <td onclick="changeType('body-list')" style="height: 5%;width:30%"></td>
                      <td onclick="changeType('body-list')" style="height: 5%;width:60%"></td>
                      <td onclick="changeType('body-list')" style="height: 5%;width:5%"></td>
                    </tr>
                    <tr style="background-color:transparent;">
                      <td onclick="changeType('body-list')" style="height: 5%;width:5%"></td>
                      <td onmousemove="highlightOptions(this.className, 'red', 'blue')" onmouseout="clearOptions('blue')" class="author-list" onclick="changeType(this.className)" style="height: 5%;width:30%" ></td>
                      <td onmousemove="highlightOptions(this.className, 'red', 'blue')" onmouseout="clearOptions('blue')" class="statistics-list" onclick="changeType(this.className)" style="height: 5%;width:60%"></td>
                      <td onclick="changeType('body-list')" style="height: 5%;width:5%"></td>
                    </tr>
                    <tr style="background-color:transparent;">
                      <td onclick="changeType('body-list')" style="height: 27%;width:5%"></td>
                      <td onmousemove="highlightOptions(this.className, 'red', 'blue')" onmouseout="clearOptions('blue')" class="description-list" onclick="changeType(this.className)" style="height: 27%;width:30%" ></td>
                      <td onmousemove="highlightOptions(this.className, 'red', 'blue')" onmouseout="clearOptions('blue')" class="description-list" onclick="changeType(this.className)" style="height: 27%;width:60%"></td>
                      <td onclick="changeType('body-list')" style="height: 27%;width:5%"></td>
                    </tr>
                    <tr style="background-color:transparent;">
                      <td onclick="changeType('body-list')" style="height: 13%;width:5%"></td>
                      <td onclick="changeType('body-list')" style="height: 13%;width:30%"></td>
                      <td onclick="changeType('body-list')" style="height: 13%;width:60%"></td>
                      <td onclick="changeType('body-list')" style="height: 13%;width:5%"></td>
                    </tr>
                    <tr style="background-color:transparent;">
                      <td onclick="changeType('body-list')" style="height: 30%;width:5%"></td>
                      <td onmousemove="highlightOptions(this.className, 'red', 'blue')" onmouseout="clearOptions('blue')" class="full-list"  onclick="changeType(this.className)" style="height: 30%;width:30%"></td>
                      <td onmousemove="highlightOptions(this.className, 'red', 'blue')" onmouseout="clearOptions('blue')" class="full-list"  onclick="changeType(this.className)" style="height: 30%;width:60%"></td>
                      <td onclick="changeType('body-list')" style="height: 30%;width:5%"></td>
                    </tr>
                    <tr style="background-color:transparent;">
                      <td onclick="changeType('body-list')" style="height: 20%;width:5%"></td>
                      <td onclick="changeType('body-list')" style="height: 20%;width:30%"></td>
                      <td onclick="changeType('body-list')" style="height: 20%;width:60%"></td>
                      <td onclick="changeType('body-list')" style="height: 20%;width:5%"></td>
                    </tr>
                  </table>
                </div>

              </div>
            </div>
          </div>        
        </div>
      </div>    
  
    </div>
  </div>
</div> 

<script>

  function highlightOptions(className, colorStr, checkColor) {
    clearOptions(checkColor);
    var elementsToShow = document.getElementsByClassName(className);
    for (var i=0; i < elementsToShow.length; i++) {
      if (elementsToShow[i].style.background != checkColor) { 
        elementsToShow[i].style.background=colorStr;
      }; 
    };
  }

  function clearOptions(checkColor) {
    var allDivs = $('.top-lists, .active-users, .popular-users, .author-list, .statistics-list, .description-list, .full-list');
    for (var i=0; i < allDivs.length; i++) {
      if (allDivs[i].style.background != checkColor) { 
        allDivs[i].style.background="transparent"; 
      }
    };
  }

  function changePage(elementNode){
    var imgDiv = document.getElementById('website-preview').getElementsByTagName("img")[0];
    switch(elementNode.value)
    {
    case "0", "1":
      imgDiv.src = '/images/apitool/listnerd_search.png';
      $('#list-view')[0].hidden = true;
      $('#search-view')[0].hidden = false;
      $('#opt2')[0].hidden = true;
      $('#opt1')[0].hidden = false;
      changeType('body-lists');
      break;
    case "2":
      imgDiv.src = '/images/apitool/listnerd_list.png';
      $('#search-view')[0].hidden = true;
      $('#list-view')[0].hidden = false;
      $('#opt1')[0].hidden = true;
      $('#opt2')[0].hidden = false;
      changeType('body-list');
      break;
    }
  }

  function changeType(className) {
    highlightOptions(className, 'blue', '');
    switch(className)
    {
    case "body-lists":
      $('#atrb1')[0].innerHTML = "Top lists";
      $('#atrb2')[0].innerHTML = "Active memebrs";
      $('#atrb3')[0].innerHTML = "Popular members";
      $('#atrb4')[0].innerHTML = "Statistics";
      break;
    case "top-lists":
      $('#atrb1')[0].innerHTML = "List title";
      $('#atrb2')[0].innerHTML = "Number of views";
      $('#atrb3')[0].innerHTML = "Number of votes";
      $('#atrb4')[0].innerHTML = "Picture (link)";
      break;
    case "active-users":
      $('#atrb1')[0].innerHTML = "Name";
      $('#atrb2')[0].innerHTML = "Short bio";
      $('#atrb3')[0].innerHTML = "Location";
      $('#atrb4')[0].innerHTML = "Picture (link)";
      break;
    case "popular-users":
      $('#atrb1')[0].innerHTML = "Name";
      $('#atrb2')[0].innerHTML = "Short bio";
      $('#atrb3')[0].innerHTML = "Location";
      $('#atrb4')[0].innerHTML = "Picture (link)";
      break;
    case "body-list":
      $('#atrb1')[0].innerHTML = "Statistics";
      $('#atrb2')[0].innerHTML = "Description";
      $('#atrb3')[0].innerHTML = "Full list";
      $('#atrb4')[0].innerHTML = "Pictures (list of links)";
      break;
    case "statistics-list":
      $('#atrb1')[0].innerHTML = "Created at";
      $('#atrb2')[0].innerHTML = "Number of views";
      $('#atrb3')[0].innerHTML = "Number of votes";
      $('#atrb4')[0].innerHTML = "Number of comments";
      break;
    case "description-list":
      $('#atrb1')[0].innerHTML = "Title";
      $('#atrb2')[0].innerHTML = "Description";
      $('#atrb3')[0].innerHTML = "Created at";
      $('#atrb4')[0].innerHTML = "Pictures (list of links)";
      break;
    case "full-list":
      $('#atrb1')[0].innerHTML = "Title";
      $('#atrb2')[0].innerHTML = "Topic 1 (short description)";
      $('#atrb3')[0].innerHTML = "Topic 2 (link or role)";
      $('#atrb4')[0].innerHTML = "Picture (link)";
      break;
    }
  }

</script>