<div id="cl-wrapper">

  <div class="cl-sidebar">
    <div class="cl-toggle"><i class="fa fa-bars"></i></div>
    <div class="cl-navblock">
      <div class="menu-space">
        <div class="content">
          <div class="sidebar-logo" style="background-color:#4A4A4A">
            <div class="logo">
            </div>
          </div>
          <div class="side-user">
            <div class="avatar square-img"><img src="images/dashboard/avatarCG.png" alt="Avatar" style="border-radius:0" /></div>

            <div class="info info-align">
              <p>
                <b>Snip2Code</b><br/>Cristiano Ghersi
              </p>
            </div>
          </div>
          <ul class="cl-vnavigation">
          </ul>
        </div>
      </div>
      <div class="text-right collapse-button" style="padding:7px 9px;">
        <input type="text" class="form-control search" placeholder="Search..." />
        <button id="sidebar-collapse" class="btn btn-default" style=""><i style="color:#fff;" class="fa fa-angle-left"></i></button>
      </div>
    </div>
  </div>
	<div class="container-fluid" id="pcont">
   <!-- TOP NAVBAR -->
  
    
	<div class="cl-mcont">		
    <div class="page-head">
			<ol class="breadcrumb">
			  <li><a href="#">Home</a></li>
			  <li class="active">Charts</li>
			</ol>
		</div>	

		<div class="row">
			<div class="col-md-12">
				<div class="block-flat">
					<div class="header">
						<h3>Daily Requests per Class</h3>
					</div>
					<div class="content">
						<div id="site_statistics" style="height: 300px; padding: 0px; position: relative;"></div>
					</div>
				</div>
      </div>  
    </div> 
			
    <div class="row">
      <div class="col-sm-6 col-md-6">
				<div class="block-flat">
					<div class="header">
						<h3>Total Requests by Type</h3>
					</div>
					<div class="content overflow-hidden">
						<div id="piec" style="height: 300px; padding: 0px; position: relative;">
						</div>
					</div>
				</div>
			</div>
      <div class="col-sm-6 col-md-6">
        <div class="block-flat">
          <div class="header">              
            <h3>Unique IP Addresses by Type</h3>
          </div>
          <div class="content">
            <div id="piec1" style="height: 300px; padding: 0px; position: relative;">
            </div>              
          </div>
        </div>
      </div>  
    </div>  
		
    <div class="row">		
  		<div class="col-sm-6 col-md-6">
  			<div class="block-flat">
  				<div class="header">							
  					<h3>Avg Daily Requests per Class</h3>
  				</div>
  				<div class="content">
  					<div id="site_statistics2" style="height: 180px; padding: 0px; position: relative;"></div>		
  				</div>
  			</div>
  		</div>

      <div class="col-sm-6 col-md-6">
        <div class="block-flat">
          <div class="header">
            <h3>Hourly Requests per Class</h3>
          </div>
          <div class="content">
            <div id="site_statistics3" style="height: 180px; padding: 0px; position: relative;"></div>
          </div>
        </div>
      </div>
    </div>  
  </div>

	</div> 
	
</div>
<!-- Right Chat-->
<nav class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-right side-chat">
	<div class="header">
    <h3>Chat</h3>
  </div>
  <div class="sub-header" href="#">
    <div class="icon"><i class="fa fa-user"></i></div> <p>Online (4)</p>
  </div>
  <div class="content">
    <p class="title">Family</p>
    <ul class="nav nav-pills nav-stacked contacts">
      <li class="online"><a href="#"><i class="fa fa-circle-o"></i> Michael Smith</a></li>
      <li class="online"><a href="#"><i class="fa fa-circle-o"></i> John Doe</a></li>
      <li class="online"><a href="#"><i class="fa fa-circle-o"></i> Richard Avedon</a></li>
      <li class="busy"><a href="#"><i class="fa fa-circle-o"></i> Allen Collins</a></li>
    </ul>
    
    <p class="title">Friends</p>
    <ul class="nav nav-pills nav-stacked contacts">
      <li class="online"><a href="#"><i class="fa fa-circle-o"></i> Jaime Garzon</a></li>
      <li class="outside"><a href="#"><i class="fa fa-circle-o"></i> Dave Grohl</a></li>
      <li><a href="#"><i class="fa fa-circle-o"></i> Victor Jara</a></li>
    </ul>   
    
    <p class="title">Work</p>
    <ul class="nav nav-pills nav-stacked contacts">
      <li><a href="#"><i class="fa fa-circle-o"></i> Ansel Adams</a></li>
      <li><a href="#"><i class="fa fa-circle-o"></i> Gustavo Cerati</a></li>
    </ul>
    
  </div>
</nav>


  <script type="text/javascript">
    var link = $('link[href="css/style.css"]');
    
    if($.cookie("css")) {
      link.attr("href",'css/skin-' + $.cookie("css") + '.css');
    }
    
    $(function(){
      $("#color-switcher .toggle").click(function(){
        var s = $(this).parent();
        if(s.hasClass("open")){
          s.animate({'margin-right':'-109px'},400).toggleClass("open");
        }else{
          s.animate({'margin-right':'0'},400).toggleClass("open");
        }
      });
      
      $("#color-switcher .color").click(function(){
        var color = $(this).data("color");
        $("body").fadeOut(function(){
          //link.attr('href','css/skin-' + color + '.css');
          $.cookie("css", color, {expires: 365, path: '/'});
          window.location.href = "";
          $(this).fadeIn("slow");
        });
      });
    });


</script> 

<script type="text/javascript">

  $(document).ready(function(){
    if (!jQuery.plot) {
      return;
    }
    var data = [];
    var totalPoints = 250;
    // random data generator for plot charts

    function getRandomData() {
      if (data.length > 0) data = data.slice(1);
      // do a random walk
      while (data.length < totalPoints) {
      var prev = data.length > 0 ? data[data.length - 1] : 50;
      var y = prev + Math.random() * 10 - 5;
      if (y < 0) y = 0;
      if (y > 100) y = 100;
      data.push(y);
      }
      // zip the generated y values with the x values
      var res = [];
      for (var i = 0; i < data.length; ++i) res.push([i, data[i]])
      return res;
    }

    function showTooltip(x, y, contents) {
      $("<div id='tooltip'>" + contents + "</div>").css({
        position: "absolute",
        display: "none",
        top: y + 5,
        left: x + 5,
        border: "1px solid #000",
        padding: "5px",
        'color':'#fff',
        'border-radius':'2px',
        'font-size':'11px',
        "background-color": "#000",
        opacity: 0.80
      }).appendTo("body").fadeIn(200);
    } 

    function randValue() {
      return (Math.floor(Math.random() * (1 + 50 - 20))) + 10;
    }

    var avgrequest = [
    [1, 2.42],
    [2, 41.54],
    [3, 27.83],
    [4, 103.42]
    ];

    var users = [
    [1,1110],
    [2,2159],
    [3,1866],
    [4,1878],
    [5,1289],
    [6,971],
    [7,1524],
    [8,1897],
    [9,2234],
    [10,2063],
    [11,2269],
    [12,2282],
    [13,1855],
    [14,2808],
    [15,2986],
    [16,4564],
    [17,5270],
    [18,2900],
    [19,1983],
    [20,1481],
    [21,2095],
    [22,2871],
    [23,3390],
    [24,2821],
    [25,3333],
    [26,2371],
    [27,1858],
    [28,2763],
    [29,3052],
    [30,3325],
    [31,3061]
    ];

    var bots = [
    [1,1244],
  [2,2586],
  [3,2713],
  [4,2344],
  [5,1700],
  [6,2476],
  [7,1664],
  [8,1355],
  [9,1185],
  [10,1581],
  [11,1512],
  [12,2232],
  [13,2740],
  [14,1795],
  [15,2064],
  [16,3558],
  [17,2520],
  [18,2045],
  [19,2421],
  [20,742],
  [21,1744],
  [22,2734],
  [23,1550],
  [24,1587],
  [25,2325],
  [26,1719],
  [27,3266],
  [28,2138],
  [29,1685],
  [30,1899],
  [31,3401]
    ];

    var indexingbots = [
    [1,2345],
    [2,2581],
    [3,3219],
    [4,2632],
    [5,2112],
    [6,1772],
    [7,3036],
    [8,2992],
    [9,2816],
    [10,3964],
    [11,4373],
    [12,1952],
    [13,1916],
    [14,2562],
    [15,2725],
    [16,3573],
    [17,2212],
    [18,2542],
    [19,2919],
    [20,3105],
    [21,4285],
    [22,2529],
    [23,2735],
    [24,3055],
    [25,2670],
    [26,3677],
    [27,1895],
    [28,2315],
    [29,2747],
    [30,3175],
    [31,3564]
    ];

    var automated = [
    [1,4699],
    [2,7326],
    [3,7798],
    [4,6854],
    [5,5101],
    [6,5219],
    [7,6224],
    [8,6244],
    [9,6235],
    [10,7608],
    [11,8154],
    [12,6466],
    [13,6511],
    [14,7165],
    [15,7775],
    [16,11695],
    [17,10002],
    [18,7487],
    [19,7323],
    [20,5328],
    [21,8124],
    [22,8134],
    [23,7675],
    [24,7463],
    [25,8328],
    [26,7767],
    [27,7019],
    [28,7216],
    [29,7484],
    [30,8399],
    [31,10026]
    ];

    var users1 = [
    [1,3571],
    [2,4083],
    [3,4191],
    [4,3702],
    [5,3512],
    [6,5245],
    [7,4692],
    [8,3898],
    [9,2800],
    [10,2319],
    [11,2176],
    [12,2393],
    [13,1880],
    [14,1988],
    [15,1903],
    [16,2353],
    [17,2858],
    [18,3137],
    [19,3406],
    [20,3630],
    [21,3086],
    [22,2984],
    [23,3743],
    [24,4022]
    ];

    var bots1 = [
    [1,2758],
    [2,2865],
    [3,3373],
    [4,3018],
    [5,2440],
    [6,2849],
    [7,2715],
    [8,2193],
    [9,2954],
    [10,1921],
    [11,2266],
    [12,2274],
    [13,2108],
    [14,2635],
    [15,3103],
    [16,2746],
    [17,2867],
    [18,3048],
    [19,2858],
    [20,3131],
    [21,2676],
    [22,2599],
    [23,2931],
    [24,3133]
    ];

    var indexingbots1 = [
    [1,3746],
    [2,3775],
    [3,3660],
    [4,3652],
    [5,4392],
    [6,4586],
    [7,4624],
    [8,3542],
    [9,3595],
    [10,3222],
    [11,3409],
    [12,3250],
    [13,3331],
    [14,3237],
    [15,3080],
    [16,3600],
    [17,3984],
    [18,3494],
    [19,3496],
    [20,3462],
    [21,4819],
    [22,3733],
    [23,3618],
    [24,4104]
    ];

    var automated1 = [
    [1,10075],
    [2,10723],
    [3,11224],
    [4,10372],
    [5,10344],
    [6,12680],
    [7,12031],
    [8,9633],
    [9,9349],
    [10,7462],
    [11,7851],
    [12,7917],
    [13,7319],
    [14,7860],
    [15,8086],
    [16,8699],
    [17,9709],
    [18,9679],
    [19,9760],
    [20,10223],
    [21,10581],
    [22,9316],
    [23,10292],
    [24,11259]
    ];

    if ($('#site_statistics').size() != 0) {

      $('#site_statistics_loading').hide();
      $('#site_statistics_content').show();
      
      var plot_statistics = $.plot($("#site_statistics"), [
       {
        data: automated,
        label: "Automated Requests"
      },
      {
        data: users,
        label: "Users"
      },
      {
        data: bots,
        label: "Bots"
      },
      {
        data: indexingbots,
        label: "Indexing"
      }
     ],
       {
        series: {
          lines: {
            show: true,
            lineWidth: 0.25, 
            fill: true,
            fillColor: {
              colors: [{
                opacity: 0.05
              }, {
                opacity: 0.05
              }
              ]
            } 
          },
          points: {
            show: true
          },
          shadowSize: 2
        },
        legend:{
          show: false
        },
        grid: {
        labelMargin: 10,
           axisMargin: 500,
          hoverable: true,
          clickable: true,
          tickColor: "rgba(0,0,0,0.15)",
          borderWidth: 0
        },
        colors: ["#FFD93A", "#F58236", "#008B8B", "#FA8072"],
        xaxis: {
           ticks:[[2, '1/8'], [4, '1/10'], [6, '1/12'],[8, '1/14'],[10, '1/16'],[12, '1/18'],[14, '1/20'],[16, '1/22'],[18, '1/24'],[20, '1/26'],[22, '1/28'],[24, '1/30'],[26, '2/1'],                [28, '2/3'],[30, '2/5']]
        },
        yaxis: {
          ticks: 5,
          tickDecimals: 0
        }
      });
      
        /*BAR CHART - Average Daily Requests*/

      var plot_statistics2 = $.plot($("#site_statistics2"), [{
        data: avgrequest,
        label: "Unique Visits"
      }
      ], {
        series: {
          bars: {
            show: true,
            barWidth: 0.6,
            lineWidth: 0,
            fill: true,
            hoverable: true,
            fillColor: {
              colors: [{
                opacity: 1
              }, {
                opacity: 1
              }
              ]
            } 
          },
          shadowSize: 2
        },
        legend:{
          show: false
        },
        grid: {
        labelMargin: 10,
          axisMargin: 500,
          hoverable: true,
          clickable: true,
          tickColor: "rgba(0,0,0,0.15)",
          borderWidth: 0
        },
        colors: ["#FD6A5E", "#FFFFFF", "#52e136"],
        xaxis: {
          ticks:[[ 1.3, "Users" ], [ 2.3, "Bots" ],
                                       [ 3.3, "Indexing" ], [ 4.3, "Automated" ]]
        },
        yaxis: {
          ticks: 6,
          tickDecimals: 0
        }
      });

/*Peak Hours*/

      var plot_statistics = $.plot($("#site_statistics3"), [
       {
        data: automated1,
        label: "Automated Requests"
      },
      {
        data: users1,
        label: "Users"
      },
      {
        data: bots1,
        label: "Bots"
      },
      {
        data: indexingbots1,
        label: "Indexing"
      }
     ],
       {
        series: {
          lines: {
            show: true,
            lineWidth: 0.25, 
            fill: true,
            fillColor: {
              colors: [{
                opacity: 0.05
              }, {
                opacity: 0.05
              }
              ]
            } 
          },
          points: {
            show: true
          },
          shadowSize: 2
        },
        legend:{
          show: false
        },
        grid: {
        labelMargin: 10,
           axisMargin: 500,
          hoverable: true,
          clickable: true,
          tickColor: "rgba(0,0,0,0.15)",
          borderWidth: 0
        },
        colors: ["#FFD93A", "#F58236", "#008B8B", "#FA8072"],
        xaxis: {
           ticks:[[2, '2 AM'], [4, '4AM'], [6, '6AM'],[8, '8AM'],[10, '10AM'],[12, '12PM'],[14, '2PM'],[16, '4PM'],[18, '6PM'],[20, '8PM'],[22, '10PM'],[24, '12AM']]
        },
        yaxis: {
          ticks: 5,
          tickDecimals: 0
        }
      });
      


      /*Pie Chart*/
      var data = [
      { label: "Users", data: 20.76},
      { label: "Bots", data: 32.96},
      { label: "Indexing", data: 32.15},
      { label: "Automated Requests", data: 14.13}
      ]; 

      $.plot('#piec', data, {
        series: {
          pie: {
            show: true,
            innerRadius: 0.27,
            shadow:{
              top: 5,
              left: 15,
              alpha:0.3
            },
            stroke:{
              width:0
            },
            label: {
                        show: true,
                        formatter: function (label, series) {
                            return '<div style="font-size:12px;text-align:center;padding:2px;color:#333;">' + label + '</div>';

                        }
                    },
            highlight:{
              opacity: 0.08
            }
          }
        },
        grid: {
          hoverable: true,
          clickable: true
        },
        colors: ["#F58236", "#008B8B", "#FA8072", "#FFD93A"],
        legend: {
          show: false
        }
      });

      /*Pie Chart #2*/
      var data1 = [
      { label: "Users - 80%", data: 80.42},
      { label: "Bots", data: 7.45},
      { label: "Indexing", data: 10.85},
      { label: "Automated Requests", data: 1.28}
      ]; 

      $.plot('#piec1', data1, {
        series: {
          pie: {
            show: true,
            innerRadius: 0.27,
            shadow:{
              top: 5,
              left: 15,
              alpha:0.3
            },
            stroke:{
              width:0
            },
            label: {
                        show: true,
                        formatter: function (label, series) {
                            return '<div style="font-size:12px;text-align:center;padding:2px;color:#333;">' + label + '</div>';

                        }
                    },
            highlight:{
              opacity: 0.08
            }
          }
        },
        grid: {
          hoverable: true,
          clickable: true
        },
        colors: ["#F58236", "#008B8B", "#FA8072", "#FFD93A"],
        legend: {
          show: false
        }
      });
      
     
      /*Tooltips*/
      
      var previousPoint = null;
      $("#site_statistics").bind("plothover", function (event, pos, item) {
      
        var str = "(" + pos.x.toFixed(2) + ", " + pos.y.toFixed(2) + ")";

        if (item) {
          if (previousPoint != item.dataIndex) {
            previousPoint = item.dataIndex;
            $("#tooltip").remove();
            var x = item.datapoint[0].toFixed(2),
            y = item.datapoint[1].toFixed(2);
            showTooltip(item.pageX, item.pageY,
            item.series.label + " of " + x + " = " + y);
          }
        } else {
          $("#tooltip").remove();
          previousPoint = null;
        }
      }); 
      
      $("#site_statistics2").bind("plothover", function (event, pos, item) {
      
        var str = "(" + pos.x.toFixed(2) + ", " + pos.y.toFixed(2) + ")";

        if (item) {
          if (previousPoint != item.dataIndex) {
            previousPoint = item.dataIndex;
            $("#tooltip").remove();
            var x = item.datapoint[0],
            y = item.datapoint[1];
            showTooltip(item.pageX, item.pageY,
            item.series.label + "" + x + " = " + y + "%");
          }
        } else {
          $("#tooltip").remove();
          previousPoint = null;
        }
      }); 
      
      $("#chart3").bind("plothover", function (event, pos, item) {
      
        var str = "(" + pos.x.toFixed(2) + ", " + pos.y.toFixed(2) + ")";

        if (item) {
          if (previousPoint != item.dataIndex) {
            previousPoint = item.dataIndex;
            $("#tooltip").remove();
            var x = item.datapoint[0].toFixed(2),
            y = item.datapoint[1].toFixed(2);
            showTooltip(item.pageX, item.pageY,
            item.series.label + " of " + x + " = " + y);
          }
        } else {
          $("#tooltip").remove();
          previousPoint = null;
        }
      }); 
    }


    });
</script>
  
